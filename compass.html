<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>實時指南針 - Kidrise 天文助手</title>
    <link rel="stylesheet" href="/kidrise-starmap-2025-08/style.css">
</head>
<body>

    <nav class="main-nav">
        <a href="/kidrise-starmap-2025-08/index2.html" class="nav-link">星空圖</a>
        <a href="/kidrise-starmap-2025-08/planner.html" class="nav-link">目標規劃</a>
        <a href="/kidrise-starmap-2025-08/compass.html" class="nav-link active">實時指南針</a>
        <a href="/kidrise-starmap-2025-08/knowledge.html" class="nav-link">天文知識</a>
    </nav>

 <div class="content-container">
        <div class="section">
            <div id="permission-request" class="permission-prompt">
                <h3>啟用實時指南針功能</h3>
                <p>為了讓指南針和可見星體列表正常運作，我們需要您授權存取裝置的方向感測器。</p>
                <button id="permission-button" class="control-button">✅ 同意並啟用裝置感測器</button>
            </div>

            <div id="compass-main-content" class="hidden">
                <div id="compass-container">
                    <img id="compass-rose-img" src="/kidrise-starmap-2025-08/compass-rose.svg" alt="Compass Rose">
                    <img id="compass-needle-img" src="/kidrise-starmap-2025-08/compass-needle.svg" alt="Compass Needle">
                </div>
                <div id="compass-reading">--°</div>

                <div id="status-bar">
                    <div id="current-time">--:--:--</div>
                    <div id="current-altitude">海拔: -- 公尺</div>
                    <div id="current-location">正在獲取位置...</div>
                </div>

                <div class="analyze-button-container">
                    <button id="analyze-direction-button" class="control-button">🛰️ 分析此方向的可見星體</button>
                </div>

                <div id="visible-stars-container">
                    <div id="visible-stars-list">
                        <p class="stars-placeholder">請先轉動手機，確定方向後點擊上方「分析」按鈕。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/kidrise-starmap-2025-08/lib/d3.v4.min.js"></script>
    <script src="/kidrise-starmap-2025-08/lib/d3-celestial.min.js"></script>
    <script src="/kidrise-starmap-2025-08/compass.js"></script>
</body>
</html>
